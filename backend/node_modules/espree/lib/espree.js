ature: Language.Basic~ca-es~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~cs-cz~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~cs-cz~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~cy-gb~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~cy-gb~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~da-dk~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~da-dk~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~de-ch~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~de-ch~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~de-de~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~de-de~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~el-gr~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~el-gr~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~en-au~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~en-au~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~en-ca~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~en-ca~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~en-gb~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~en-gb~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~en-in~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~en-in~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~en-us~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~en-us~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~es-es~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~es-es~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~es-mx~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~es-mx~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~es-us~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~es-us~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~et-ee~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~et-ee~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~eu-es~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~eu-es~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~fa-ir~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~fa-ir~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~fi-fi~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~fi-fi~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~fil-ph~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~fil-ph~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~fr-be~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~fr-be~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~fr-ca~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~fr-ca~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~fr-ch~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~fr-ch~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~fr-fr~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~fr-fr~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~ga-ie~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~ga-ie~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~gd-gb~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~gd-gb~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~gl-es~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~gl-es~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~gu-in~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~gu-in~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~ha-latn-ng~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~ha-latn-ng~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~haw-us~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~haw-us~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~he-il~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~he-il~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~hi-in~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~hi-in~1.0
2025-03-26 18:35:59, Info                         Looking to see if feature should be included: Language.Basic~hr-hr~1.0
2025-03-26 18:35:59, Info                         Not including Group: Microsoft, FMID: (null), Feature: Language.Basic~hr-hr~1.0
2025-03-26 18:35:59, Info                                          templateElement.range[0] += startOffset;
                    templateElement.range[1] += endOffset;
                }

                if (templateElement.loc) {
                    templateElement.loc.start.column += startOffset;
                    templateElement.loc.end.column += endOffset;
                }
            });

            return program;
        }

        parseTopLevel(node) {
            if (this[STATE].impliedStrict) {
                this.strict = true;
            }
            return super.parseTopLevel(node);
        }

        /**
         * Overwrites the default raise method to throw Esprima-style errors.
         * @param {int} pos The position of the error.
         * @param {string} message The error message.
         * @throws {SyntaxError} A syntax error.
         * @returns {void}
         */
        raise(pos, message) {
            const loc = Parser.acorn.getLineInfo(this.input, pos);
            const err = new SyntaxError(message);

            err.index = pos;
            err.lineNumber = loc.line;
            err.column = loc.column + 1; // acorn uses 0-based columns
            throw err;
        }

        /**
         * Overwrites the default raise method to throw Esprima-style errors.
         * @param {int} pos The position of the error.
         * @param {string} message The error message.
         * @throws {SyntaxError} A syntax error.
         * @returns {void}
         */
        raiseRecoverable(pos, message) {
            this.raise(pos, message);
        }

        /**
         * Overwrites the default unexpected method to throw Esprima-style errors.
         * @param {int} pos The position of the error.
         * @throws {SyntaxError} A syntax error.
         * @returns {void}
         */
        unexpected(pos) {
            let message = "Unexpected token";

            if (pos !== null && pos !== void 0) {
                this.pos = pos;

                if (this.options.locations) {
                    while (this.pos < this.lineStart) {
                        this.lineStart = this.input.lastIndexOf("\n", this.lineStart - 2) + 1;
                        --this.curLine;
                    }
                }

                this.nextToken();
            }

            if (this.end > this.start) {
                message += ` ${this.input.slice(this.start, this.end)}`;
            }

            this.raise(this.start, message);
        }

        /*
        * Esprima-FB represents JSX strings as tokens called "JSXText", but Acorn-JSX
        * uses regular tt.string without any distinction between this and regular JS
        * strings. As such, we intercept an attempt to read a JSX string and set a flag
        * on extra so that when tokens are converted, the next token will be switched
        * to JSXText via onToken.
        */
        jsx_readString(quote) { // eslint-disable-line camelcase -- required by API
            const result = super.jsx_readString(quote);

            if (this.type === tokTypes.string) {
                this[STATE].jsxAttrValueToken = true;
            }
            return result;
        }

        /**
         * Performs last-minute Esprima-specific compatibility checks and fixes.
         * @param {ASTNode} result The node to check.
         * @returns {ASTNode} The finished node.
         */
        [ESPRIMA_FINISH_NODE](result) {

            // Acorn doesn't count the opening and closing backticks as part of templates
            // so we have to adjust ranges/locations appropriately.
            if (result.type === "TemplateElement") {

                // save template element references to fix start/end later
                this[STATE].templateElements.push(result);
            }

            if (result.type.includes("Function") && !result.generator) {
                result.generator = false;
            }

            return result;
        }
    };
};
